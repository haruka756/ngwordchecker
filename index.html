<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>Google ビジネスプロフィール NGワードチェッカー</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: #fdf6ee;
      color: #333;
      margin: 0;
      padding: 0;
    }

    .container {
      max-width: 800px;
      margin: 0 auto;
      padding: 20px;
    }

    .logo-container {
      text-align: center;
      margin-bottom: 20px;
    }

    .logo-img {
      width: 100%;
      height: auto;
      display: block;
    }

    .description, .description-below {
      font-size: 14px;
      text-align: left;
      color: #444;
      margin-bottom: 20px;
      line-height: 1.6;
    }

    textarea {
      width: 100%;
      height: 200px;
      padding: 10px;
      font-size: 16px;
      border: 1px solid #ccc;
      border-radius: 8px;
      box-sizing: border-box;
      margin-bottom: 20px;
    }

    .preview {
      white-space: pre-wrap;
      padding: 10px;
      background-color: #fff8f3;
      border: 1px solid #ccc;
      border-radius: 8px;
      min-height: 150px;
      margin-bottom: 20px;
    }

    .highlight {
      background-color: #ffdddd;
      font-weight: bold;
    }

    .word-edit {
      display: flex;
      gap: 10px;
      margin-bottom: 10px;
    }

    .word-edit input {
      flex: 1;
      padding: 6px;
      border: 1px solid #aaa;
      border-radius: 6px;
    }

    .word-edit button {
      padding: 6px 12px;
      background-color: #ef5350;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }

    .word-edit button:hover {
      background-color: #d32f2f;
    }

    .word-list {
      margin-bottom: 20px;
    }

    .word-list span {
      display: inline-block;
      background-color: #ffcdd2;
      padding: 5px 10px;
      border-radius: 12px;
      margin: 2px;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="logo-container">
      <img src="ngwordcheckerlogo.png" alt="Google ビジネスプロフィール NGワードチェッカー" class="logo-img">
    </div>

    <p class="description">
      Googleビジネスプロフィールに「最新情報」のブログ記事を投稿する際、Googleポリシー違反により投稿できないことはありませんか？<br>
      ボックスに文章を貼り付けると、ポリシー違反の原因の可能性のある語句がハイライトされます。<br>
      記事執筆や投稿の際にご利用ください。
    </p>

    <textarea id="textInput" placeholder="文章を入力してください"></textarea>

    <div class="preview" id="preview"></div>

    <p class="description-below">
      Googleビジネスプロフィールに、ポリシー違反によって投稿できなかったNGワードを追加・削除することができます。<br>
      投稿できなかった原因と思われるキーワードがあれば、追加することで、その語句をハイライト表示することができます。
    </p>

    <div class="word-edit">
      <input type="text" id="newWordInput" placeholder="NGワードを追加">
      <button onclick="addWord()">追加</button>
      <button onclick="clearWords()">リセット</button>
    </div>

    <div class="word-list" id="wordList"></div>
  </div>

  <script>
    let keywords = JSON.parse(localStorage.getItem('keywords')) || ['重要', '注意', '確認'];

    const textInput = document.getElementById('textInput');
    const preview = document.getElementById('preview');
    const newWordInput = document.getElementById('newWordInput');
    const wordList = document.getElementById('wordList');

    function updatePreview() {
      const text = textInput.value;
      const highlightedText = keywords.reduce((acc, word) => {
        const regex = new RegExp(`(${word})`, 'gi');
        return acc.replace(regex, '<span class="highlight">$1</span>');
      }, text);
      preview.innerHTML = highlightedText;
    }

    function updateWordList() {
      wordList.innerHTML = '';
      keywords.forEach(word => {
        const span = document.createElement('span');
        span.textContent = word;
        wordList.appendChild(span);
      });
    }

    function addWord() {
      const word = newWordInput.value.trim();
      if (word && !keywords.includes(word)) {
        keywords.push(word);
        localStorage.setItem('keywords', JSON.stringify(keywords));
        newWordInput.value = '';
        updateWordList();
        updatePreview();
      }
    }

    function clearWords() {
      keywords = ['重要', '注意', '確認'];
      localStorage.setItem('keywords', JSON.stringify(keywords));
      updateWordList();
      updatePreview();
    }

    textInput.addEventListener('input', updatePreview);

    // 初期表示
    updateWordList();
    updatePreview();
  </script>
</body>
</html>
